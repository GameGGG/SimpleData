!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("@babel/runtime/helpers/typeof"),require("@babel/runtime/helpers/toConsumableArray"),require("@babel/runtime/helpers/defineProperty"),require("@babel/runtime/helpers/classCallCheck"),require("@babel/runtime/helpers/createClass")):"function"==typeof define&&define.amd?define(["@babel/runtime/helpers/typeof","@babel/runtime/helpers/toConsumableArray","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],r):(e="undefined"!=typeof globalThis?globalThis:e||self)["bundle-name"]=r(e._typeof,e._toConsumableArray,e._defineProperty,e._classCallCheck,e._createClass)}(this,(function(e,r,t,n,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=i(e),o=i(r),u=i(t),f=i(n),s=i(a);function c(e){var r=l.default(e).toLocaleLowerCase();return"object"===r&&Array.isArray(e)&&(r="array"),r}function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){u.default(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var y=function(){function e(r){f.default(this,e),this.data=r}return s.default(e,[{key:"transData",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return r;var n=t.shift(),a=n.split(":"),i=r,l=r,u=e.filterMap[a[0]],f=c(i);if("object"===f&&(i=p({},r)),"array"===f&&(i=o.default(r)),u&&"function"===c(u))l=u(i);else if(u&&"object"===c(u)){var s=u[f];l=s?s(i):i}return this.transData(l,t)}},{key:"get",value:function(r,t){var n,a=this;if(Array.isArray(r))n=r;else if("string"===l.default(r).toLowerCase())n=r.split(".");else if("object"===l.default(r).toLowerCase()){var i={};return Object.keys(r).forEach((function(e){i[e]=a.get(r[e],t)})),i}for(var o=0,u=this.data;n.length>o;){var f=n[o];o+=1;var s=f.split("|"),b=s.shift();if("$"===b)return"array"===c(u)?u.map((function(r){return new e(r).get(n.slice(o))})):t;u=u&&u[b]?this.transData(u[b],s):t}return u}}],[{key:"addFilter",value:function(r,t){var n=r,a=t;if("string"!==c(r)&&(a=r,n=r.filterName),"function"!==c(a)&&"object"!==c(a))throw new Error("参数错误");if(e.filterMap[n])throw new Error("存在重复的过滤器名称");e.filterMap[n]=a}}]),e}();function d(e){return new y(e)}y.filterMap={},d.addFilter=y.addFilter;var h={array:function(e){return e.reverse()},filterName:"reverse"};function m(e){return Array.isArray(e)?e.map((function(e){return Number(e)})):Number(e)}function v(e){return Array.isArray(e)?e.map((function(e){return String(e)})):String(e)}return m.filterName="number",v.filterName="string",d.addFilter(h),d.addFilter(m),d.addFilter(v),d}));
//# sourceMappingURL=index.js.map
